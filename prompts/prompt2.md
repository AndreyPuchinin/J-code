1.Добавь обязательное поле file в CommandNode. Это поле должно определяться при инициализации каждого объекта. Найди среди ВСЕХ файлов с кодом в нашем репозитории проекта и выпиши полный список мест в формате (файл кода, строка), где создаются объекты CommandNode. Доинициализируй поле file в каждом из этих мест-формирования объектов CommandNode. Если нужно, дополни в CommandNode.py глобальную функцию (или метод, если это вомзожно) для определения файла, откуда берется команда-объект CommandNode.

2.Немного перепиши CommandNode._log_error(self, message): формат вывода пусть теперь будет такой:

Ошибка команды!:
RootFile, str, pos, command, Ошибка: <текст ошибки>
InnerFile, str, pos, command, Ошибка: <текст ошибки>
...
DeepestFile, str, pos, command, Ошибка: <текст ошибки>
<пустая строка для разделения>

(4 строки лишь для примера - их может быть и больше, и меньше - хоть одна, если хвост ошибки не тянется и не выходит за рамки RootFile)

Если надо, допиши отдельную(/ые) вспомогательные локальные приватные функции в CommandNode для вынесения ответственности и упрощения _log_error